{"version":3,"sources":["webpack:///./src/app/wallet/wallet-details/wallet-details.module.ts","webpack:///./src/app/wallet/wallet-details/wallet-details.page.html","webpack:///./src/app/wallet/wallet-details/wallet-details.page.scss","webpack:///./src/app/wallet/wallet-details/wallet-details.page.ts"],"names":[],"mappings":"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","file":"wallet-details-wallet-details-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WalletDetailsPage } from './wallet-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WalletDetailsPage\n  },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [WalletDetailsPage]\n})\nexport class WalletDetailsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>wallet-details</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"wallet\\\"></ion-back-button>\\n      \\n    </ion-buttons>\\n    \\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-button (click)=\\\"onInfo()\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"information-circle\\\"></ion-icon>\\n        info\\n      </ion-button>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n \\n</ion-header>\\n\\n<ion-content padding  id=\\\"cam\\\">\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">To address</ion-label>\\n    <ion-button Fill=\\\"clear\\\" (click)=\\\"onScan()\\\" slot=\\\"end\\\">\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"qr-scanner\\\"></ion-icon>\\n    </ion-button>\\n    <ion-input [(ngModel)]=\\\"toAddress\\\" type=\\\"text\\\">\\n    </ion-input>\\n  </ion-item>\\n  <ion-item>\\n      <ion-label position=\\\"floating\\\">Amount</ion-label>\\n      <ion-input [(ngModel)]=\\\"amount\\\" type=\\\"text\\\"></ion-input>\\n    </ion-item>\\n\\n    \\n  <ion-button padding (click)=\\\"onSend()\\\">\\n    send\\n  </ion-button>\\n\\n \\n  <p padding id=\\\"result\\\"></p>\\n  <ion-grid fixed class=\\\"ion-padding\\\">\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center\\\" >\\n          <h1>To receive show the QR code</h1>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\" offset=\\\"3\\\">\\n        <ion-img [src]=\\\"'https://api.qrserver.com/v1/create-qr-code/?size=150x150&data='+this.fromAddress\\\"></ion-img>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>  \\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3dhbGxldC93YWxsZXQtZGV0YWlscy93YWxsZXQtZGV0YWlscy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { EthereumService } from 'src/app/services/ethereum.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { ToastController, Platform } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-wallet-details',\n  templateUrl: './wallet-details.page.html',\n  styleUrls: ['./wallet-details.page.scss'],\n})\nexport class WalletDetailsPage implements OnInit {\n  id: number;\n  toAddress;\n  amount;\n  fromAddress;\n  wallet;\n  constructor(private eth: EthereumService,\n              private auth: AuthService,\n              public route: Router,\n              public act: ActivatedRoute,\n              private qrScanner: QRScanner,\n              public platform: Platform,\n              public toastController: ToastController,\n              private androidPermissions: AndroidPermissions) \n              {\n                this.id = act.snapshot.params.Id;\n\n                this.platform.backButton.subscribeWithPriority(0,()=>\n                {\n                  document.getElementById('cam').style.opacity = '1';\n                  this.qrScanner.destroy();\n                })\n              }\n\n\n  async presentToast() {\n          const toast = await this.toastController.create({\n            message: 'Text Detected',\n            duration: 2000\n          });\n          toast.present();\n        }\n\n  ngOnInit() {\n    this.fromAddress = this.auth.presentUser.wallets[0].address;\n    this.wallet = this.auth.presentUser.wallets.find(data => data.id == this.id);\n  }\n  onScan() {\n    this.qrScanner.prepare()\n   .then((status: QRScannerStatus) => {\n     if (status.authorized) {\n       // camera permission was granted\n\n       this.qrScanner.show();\n\n       document.getElementById('cam').style.opacity = '0';\n       // start scanning\n       const scanSub = this.qrScanner.scan().subscribe((text: string) => {\n         this.toAddress = text;\n         document.getElementById('cam').style.opacity = '1';\n         this.presentToast();\n         this.qrScanner.hide(); // hide camera preview\n         scanSub.unsubscribe(); // stop scanning\n       });\n\n     } else if (status.denied) {\n       // camera permission was permanently denied\n       // you must use QRScanner.openSettings() method to guide the user to the settings page\n       // then they can grant the permission from there\n\n       this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(\n        result => console.log('Has permission?', result.hasPermission),\n        err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.CAMERA)\n      );\n     } else {\n       // permission was denied, but not permanently. You can ask for permission again at a later time.\n     }\n  })\n  .catch((e: any) => console.log('Error is', e));\n  }\n  onSend() {\n    document.getElementById('result').innerHTML = '' ;\n    console.log('send');\n    if (this.id == 0) {\n      console.log('hello');\n      this.eth.send(this.amount, this.toAddress);\n    } else {\n      this.eth.sendToken(\n        this.amount,\n        this.toAddress,\n        this.wallet.address,\n        this.wallet.name\n        );\n    }\n    }\n  onInfo()\n  {\n    console.log('hello');\n    this.route.navigateByUrl('/info/' + this.id);\n  }\n\n}\n"],"sourceRoot":""}